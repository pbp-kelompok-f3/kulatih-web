{% extends 'base.html' %}
{% load static %}

{% block content %}

<div class="bg-[var(--indigo)] text-[var(--white)] font-bevietnam flex flex-col px-8 md:px-20 py-12">
  <main class="flex flex-col lg:flex-row gap-8 w-full max-w-5xl mx-auto">    
    
    <div class="bg-[var(--indigo-light)] p-8 rounded-2xl shadow-lg w-full lg:w-2/5 flex flex-col items-center text-center">
      <div class="w-80 h-80 rounded-2xl overflow-hidden mb-5 bg-[var(--indigo-dark)]">
        {% if coach.profile_photo %}
          <img src="{{ coach.profile_photo }}" alt="Profile picture of {{ coach.name }}" class="w-full h-full object-cover">
        {% else %}
          <img src="https://icon-library.com/images/default-profile-icon/default-profile-icon-24.jpg" alt="Default profile picture" class="w-full h-full object-cover">
        {% endif %}
      </div>

      <div class="space-y-2 px-2">
        <h1 class="text-5xl font-bebas text-[var(--yellow)] leading-none tracking-wide">
          {{ coach.user.get_full_name }}
        </h1>
        <p class="text-lg text-[var(--white)]">
          <strong>{{ coach.get_sport_display }}</strong> - {{ coach.city }}
        </p>
      </div>
    </div>

    <div class="bg-[var(--indigo-light)] p-8 rounded-2xl shadow-lg w-full lg:w-3/5 flex flex-col">
      <h2 class="text-4xl font-bebas text-[var(--white)] mb-4 tracking-wider">Description</h2>
      <p class="text-[var(--white)] text-xl opacity-80 leading-relaxed">
        {{ coach.description|default:"This coach has not added a description." }}
      </p>

      <div class="flex-grow"></div>

      <div class="space-y-3">
        <dl class="flex items-center mb-2">
          <dt class="w-auto mr-4 text-xl text-[var(--white)] opacity-80 font-semibold text-lg">Fee</dt>
          <dd class="text-xl text-[var(--white)] font-medium text-lg">
            <strong class="text-2xl">IDR {{ coach.hourly_fee }}</strong> / Hour
          </dd>
        </dl>
      </div>

      {% if user.is_authenticated and user.member %}
        <div class="text-center mt-4">
          <a href="{% url 'booking:create' coach.id %}"
             class="block w-full bg-[var(--yellow)] text-center text-[var(--indigo-dark)] font-bold text-3xl py-3 px-8 rounded-lg hover:opacity-90 transition-opacity font-bebas tracking-wider">
            BOOK COACH
          </a>
        </div>
      {% elif user.is_anonymous %}
        <div class="text-center mt-4">
          <a href="{% url 'users:login' %}"
             class="block w-full bg-[var(--yellow)] text-center text-[var(--indigo-dark)] font-bold text-3xl py-3 px-8 rounded-lg hover:opacity-90 transition-opacity font-bebas tracking-wider">
            BOOK COACH
          </a>
        </div>
      {% endif %}
    </div>
  </main>
</div>

{# ================= RATING & FEEDBACK SECTION ================= #}
<div class="w-full px-8 md:px-20 pb-16 flex justify-center bg-[var(--indigo)] text-[var(--white)]">
  <div class="w-full max-w-5xl">
    {% include "section_review.html" with coach_id=coach.id %}
  </div>
</div>

{% endblock content %}
