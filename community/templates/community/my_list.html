{% extends "base.html" %}
{% load static %}
{% block title %}My Community{% endblock %}
{% block content %}

<section class="min-h-screen bg-[var(--indigo)] text-[var(--white)] px-8 md:px-20 py-12 font-bevietnam">

  <!-- Header -->
  <div class="bg-[var(--yellow)] text-[var(--indigo-dark)] py-6 px-8 rounded-2xl text-center shadow-md mb-12">
    <h1 class="text-5xl font-bebas tracking-wide">MY COMMUNITY</h1>
  </div>

  <!-- Daftar Komunitas -->
  <div class="flex flex-col gap-6">
    {% for m in memberships %}
      <div class="flex items-center bg-[var(--indigo-light)] rounded-2xl shadow-md px-6 py-5 gap-6 hover:scale-[1.01] transition-transform">

        <!-- Foto Profil -->
        <div class="w-20 h-20 rounded-full bg-[var(--indigo)] flex items-center justify-center overflow-hidden">
          {% if m.community.profile_image_url %}
            <img src="{{ m.community.profile_image_url }}" alt="{{ m.community.name }}" class="w-full h-full object-cover">
          {% else %}
            <span class="text-[var(--yellow)] font-bebas text-3xl">C</span>
          {% endif %}
        </div>

        <!-- Info Komunitas -->
        <div class="flex-1">
          <h2 class="text-xl font-bebas tracking-wide">{{ m.community.name|upper }}</h2>
          <p class="text-sm text-[var(--white)] opacity-80 leading-relaxed">
            {{ m.community.short_description }}
          </p>
        </div>

        <!-- Tombol Leave -->
        <div class="flex flex-col items-end">
          <a href="{% url 'community:leave' m.community.slug %}" 
             class="text-[var(--white)] font-bebas text-lg hover:text-[var(--yellow)] transition-colors">
            LEAVE
          </a>
        </div>

      </div>
    {% empty %}
      <p class="text-center text-gray-400 italic mt-10">You havenâ€™t joined any communities yet.</p>
    {% endfor %}
  </div>

  <!-- Tombol Kembali -->
  <div class="flex justify-center mt-12">
    <a href="{% url 'community:home' %}" 
       class="bg-[var(--yellow)] text-[var(--indigo-dark)] font-bebas text-2xl px-10 py-4 rounded-2xl shadow-md hover:scale-105 transition-transform">
      BACK TO COMMUNITY
    </a>
  </div>

</section>

{% endblock %}
